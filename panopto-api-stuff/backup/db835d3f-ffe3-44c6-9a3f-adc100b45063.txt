ID: db835d3f-ffe3-44c6-9a3f-adc100b45063
Title: Week-2-catch-up
Category: Haskell
Lecturer: Anthony Field
Date: 14/10/2021
The. Right.
0:02
OK, good. So this is really a Q&A. Question and answer session, I get maybe a few problems you might want to try before today.
0:11
So do you want to. How would you do what? Have you got any questions?
0:22
We'll start with any burning questions. And if not, I'll perhaps kick start by going through one or two of the questions from the sheet.
0:26
Richard, you got a question? Well, this question from one of the exercise that we got from you.
0:32
Are you speaking? Bear with me. Let's just see what's happened this morning.
0:40
Bear with me. Oh.
0:48
That's interesting. No, to try again.
0:59
Richard. Yeah, can you hear me now?
1:11
Yes, some teams have decided to meet the microphone on teams like the microphone on the laptop is is actually working.
1:16
I think I fixed it. Let me just come back to that.
1:25
Right? Yes. You had a question. Sorry about that. This is from one of the high school cryptography exercises on Kate.
1:30
Can I take this off right now? No, I just I think that's that's this week's lab, isn't it?
1:36
Yeah, yeah, so I don't want to do any questions on the labs, that's really for the duties and I think you should try and try yourself.
1:43
You can put questions on AIDS, but this is really a catch up session for the lectures.
1:52
So I'd rather prioritise that dummy. I've got a question.
1:57
Um, yeah, I just want to ask you, is it possible for you to put the answers to unassessed exercises in free on site Constancia, please?
2:02
Well, we haven't done I haven't really got as far as doing three yet, and I can put two up at some point.
2:14
Yes, I could do. I haven't put them up yet because I guess some people are still working their way through them.
2:20
But I will put them on because I've got a question. Ten, I think roughly.
2:28
And I'm starting to struggle. Right.
2:34
Okay, well, that's a good that's a good reason to come to this session because perhaps we can look at the question.
2:37
Ten. What? Perhaps I'll just make a note of that.
2:41
This is the quotient function, is it? Um, yes, I think I'm not sure.
2:47
Let me check what you're doing.
2:53
That search feature. You've got a question.
2:57
I actually have a lot of questions from the first question, but I'm not seeing them all the time that we have.
3:02
What do you prefer them to email you or put them on Edstrom? Well, let's just see let's see what the problems are.
3:09
You want to. Is it OK if you give us two or three quick questions and then we'll see where we are.
3:14
You know, you said in an interview, those are different things, right?
3:21
Did I intend integers? Yeah, yeah, they are.
3:26
Why are they different and like, why do we need them to be different?
3:31
Oh, well, one integer is a basically represents represents it is using a list of digits quite quite literally.
3:35
Well, in some way, shape or form. Yeah. So they can be arbitrarily big. So you know from.
3:44
They would be like. I keep forgetting my control.
3:56
I'm using two laptops, one, and the control key is broken on one of them to remember which one it is.
4:02
Right. So so by default, if I start typing integers into it assumes that integer is not INTs.
4:09
So I can take that number and raise it to some enormous power.
4:17
And it will actually it'll work out the answer. You know, it's a big number, obviously, but the reason why it's able to do that,
4:20
because it's representing numbers introduced by a literally a sequence of digits.
4:27
So it just does addition to multiplication, you know, digit by digit, as if you were doing it in high school.
4:32
Whereas with INTs, if I force this to be an end, which I don't, I kind of wish hadn't shown this, but it does.
4:36
I really want that to be not an integer and you can do things like that.
4:45
But of course, there come a point where the numbers get so big that exceeds what you can store in 64 bits,
4:51
in which case you get garbage suddenly becomes a negative number or it can zero or something.
4:57
Is that clear? So so the answer is basically I mean, basically, if you're writing a programme, typically if you got if you need into the programme,
5:01
you'd write into not integer integers are expensive computationally, you know, unless you really do need infinite precision.
5:09
Well, obviously, people don't use it. OK.
5:16
Israel does have another one. So I carry on here.
5:22
Do you want to ask me one more and then I'll switch to Tiffany's? Got the memo perhaps to question ten for whoever asks me that.
5:25
I'm sorry. What is the difference between a float and a double?
5:33
O one is just what is represented using twice as many bids.
5:38
Double precision. So. So you've got a choice. The third dummy typically machines will do 32, 64, 128 bit.
5:42
So double just means doubles, which is twice as much memory, but they are more accurate.
5:51
So if you if you're not obsessed with accuracy, you might use floats because they're a little bit faster and they occupy less memory.
5:57
But otherwise. OK, Tiffany, you want to throw a question?
6:04
Yeah, I do. So at some point in yesterday's lecture, you were doing pattern matching needed like G is equal to and you added some ellipses,
6:12
but I wasn't too sure what the ellipses did. The ellipses.
6:20
Oh, well, that was just me saying I can't be bothered to do any more typing, OK?
6:24
Or I would have written something out of X complexes. Yeah.
6:29
So perhaps I should have made something up and said, you know what? That's one.
6:33
But actually I said, well there's some right hand side. So I, it was me being lazy. All right.
6:38
So perhaps next time I should say, well, let's pretend it's a function that generates an integer.
6:43
We can come back and do that maybe later. But I tell you what the thing is with the question on the on the on the numerical recursion problems.
6:47
And I did ask you to look at binary as well. Perhaps we can look at that. So that's what the question first, let me just pop up to the other.
6:54
Oh, no.
7:02
On Cisco down here, it's quite a bit of space. So there was a question about the quotient function, wasn't it, which I got just finally figured out.
7:05
It's. No changes, no.
7:19
Try to function quite simply because that division, using repeated subtraction, all of this should be.
7:29
It should be. So let's just have a go anyway.
7:37
So let me just go across, make sure. One modularity, that's fine.
7:40
OK, right, let's have a go so we got quotient to excellent.
7:47
No, it doesn't. Right. And it takes two wins rather than the next one.
7:56
So this is essentially the. This is the this is the integer division function, you know, when you write hang on a second,
8:02
as much as we can test this in the programme of 12 and five, programme is a built in function.
8:09
So that's why it's two times five plus two is 12, 13, you get two to three so we can check against the quote.
8:17
So what we're trying to do is to find the quotient part of that. So so 12 to 25 should give me two.
8:24
I guess. So we'll test that in a minute. So the quotient says, let's see, I've got two numbers.
8:31
I be right. So now if so, imagine the 12 and the five.
8:38
If the if the A is less than the B, I know they.
8:46
So what's the base case? I know the answer immediately.
8:50
If I is less than B, because that must be zero because so if I'm dividing four by say the answers in addition to division that's a zero.
8:52
Otherwise. Some people like to write an email each line.
9:06
That's not easy to decide on a message. OK, otherwise.
9:14
Well, let's see. So if you imagine I've got the 12 and the five down here.
9:18
So if I'm tackling the 12 to 12 right now, I know it's not the basic is.
9:25
So supposing now I subtract. Well, think about how you would do with pencil and paper.
9:30
You'd subtract five from 12,
9:34
giving you seven and you'd ask the question again said that whatever you get from the question of seventy five is one out isn't it.
9:37
Because I've subtracted one of five ones. So in general it must be.
9:44
In general it must be. Well first of all, calculate the quotient of what did I do.
9:50
I did twelve minus five. So that's, that's, that's A minus B and the B stays the same.
9:57
And that's going to give me the right answer because it's one out. So I've got to room to add one to what comes back.
10:04
So OK, let's see, let's do that and let's see what quotient 12 for this and it gives me two.
10:09
So you can test it ad infinitum.
10:21
So it's a journey, as I said, these numerical ones tend to be quite difficult, one or two of them actually you've got to quite an unobvious trick.
10:24
I think this one's not so bad. And you just have to think how you would do it in high school, you know?
10:33
Oh, I see. Yes, I'd subtract from the you know that. Yeah.
10:38
So you imagine what I would say to people is if you get stuck right down on a concrete example,
10:41
like twelve point five, you said, well, how would I do it? So I'm only allowed to use subtraction and addition of one.
10:46
I'm not allowed to use the cognitive function, but my own of exercise.
10:52
So it's say, well, fighting 12, then I'm going to get do the same thing again, then I'm one out and so on that aren't a dummy.
10:56
That's a new hand. I can see two others from different inscrutability. Ask questions you want to ask you.
11:06
Yes, it is. And you hang on just two quick things. One, what if you want to do like accounts based on items in a list or something?
11:11
Because that's something I struggled with repeatedly yesterday when working.
11:20
And second thing is, can you please go to a question in particular?
11:25
Because I did it. I just it just took me a very long time.
11:29
Sure. OK, so perhaps what let's do the list in a minute.
11:34
Let's just let's just get through the basic recursion, because I think they're actually quite tricky to completely understand.
11:39
So maybe if I come to the virtual whiteboard question is the one I asked you to look at suggested you looked at was the choose.
11:46
It's the it's the what we're doing.
11:53
Energies are only. So let's see. So the difficulty with these things is always trying to find the right relationship.
11:56
So we know that and shoes are.
12:06
Is in fact, all over our factorial and minus all electorial, so we now have factors work, so probably don't need to tell you that.
12:12
So what we're going to try and so I think the question says. Define injuries, origins by minus one, shoes are.
12:24
Right. So let's see, so if I take out a factor, then.
12:33
Then I'm left with an M minus one factorial on the top. Right.
12:40
And on the bottom, I've still got so they are factual, so on the bottom, I got an hour factorial.
12:46
And. Let's see, so so if I if I want to in terms of N minus one, then the bottom, this this thing in here needs to be N minus all N minus one.
12:57
Minus four, doesn't it. So what I'm trying to get down here is N minus one, minus R and R minus one factorial.
13:06
And then this thing here is just and minus one choose. Oh so, so I've got to put something in here presumably in order to make this work out.
13:13
So what am I missing. Well I'm just missing the N minus R.A. so.
13:25
If I bring out the end on the top and the minus are on the bottom and just bring that over here, then that's the same thing.
13:29
So that is end over and minus R. That's that's that's not true.
13:39
That's that's division and I and I have to do the multiplication does not the only
13:44
thing the only thing you've got to be careful of is and this just occurs to me,
13:48
there's a bit of a gotcha. Perhaps I'll just hold it up for you. So just bear that in mind.
13:53
Is that clear that that was the questions that are trying to cast this thing in terms of that thing,
13:57
which means I need to multiply by that factor and then I've got it right.
14:02
Let's go to. This one say so, it's called what we call it, I suggest you could choose and it's got and that's the end, that's the answer.
14:08
And it's always an integer. It's a nice thing about these combinatorial implementation things is that there is just purely is it doesn't work.
14:23
I should because I'm dividing one thing by another.
14:31
But in fact, we know from combinatorics that the audience just cancel because they basically just factorial terms or terms within a factorial,
14:33
which is kind of neat. So we just got to be a little bit careful about how we do the division.
14:42
This may be where you got stuff. I don't know. But so now. OK, so when does this finish and when do I know the answer?
14:46
For sure. If I'm looking at that, some base case of wonder what conditions of an Aurora or both, do I know the answer?
14:54
Well, if any are the same, if I've got or choose orange, then I know that's one.
15:02
So so what's the strategy I'm starting with this end and I'm going to end this one,
15:09
and then if I do the recursion again, of course that's going to go in minus two and minus three.
15:15
So when is clock ticking down? And we know to start with that and is bigger than ever.
15:19
So eventually I'm going to add an invocation of the function and are on time.
15:25
So I'm clocking down towards us. So that tells me my base case must be the case where an equals and when I see any equals are.
15:31
What's the answer? It's one, isn't it? Because I've got in fact all over factorial.
15:41
Essentially what you don't want to end up is a base case where on the right hand side you've got a computer factorial.
15:46
And if you get the if you get the returns, if you get the wrong returns, you and the factorial specific what we want to avoid.
15:52
So otherwise I never get this right. Otherwise, what did I say it was right.
15:59
Well, let's just recurse first so we can see the division working.
16:06
So I'm going to choose so that as my end minus one there's the of the R is to say the change in this algorithm is the end.
16:10
Clock's down towards the.
16:21
Now I've just got to be careful how I do the division, so make sure you remember everything into division so I can happily multiply by N.
16:22
But I don't want to I don't want to divide them because I want actually to do a division to happen in Ottawa.
16:31
So I guess I want and I'll do it, in fact, by turning it into an infix operative.
16:38
And then I have an end months after the second.
16:44
Yeah, I had an end minus on here. Onesies and Monistat, so just make sure.
16:50
So what's going to happen now is that the N minus one Cheesa is going to multiply by eight and they're not going to divide that by and minus R,
16:59
but I know that everything is going to cancel. So just I guess be careful that you want the brackets like that.
17:07
Yeah. So let's just do. It's come down here, that's the programme.
17:18
Oh. What have I got our Bryanston?
17:27
Right. OK, so we say choose.
17:35
Well, if I got choose for choose for this one for choose three is four.
17:41
That's good for choose to. It's six and four times three over the 12 to 260.
17:48
That's why it can go on and test this, is that right?
17:55
Yeah, so it's really this and it's not a completely except it's not always easy to find these things,
18:02
you can do something with the pen function as well. Alex. So.
18:09
I was wondering with a question 14, if there's like an elegant way of doing it,
18:18
because I can do it with, like, counting digits, but that doesn't seem like the right way of doing it.
18:24
And the whole thing is you've got it in front of you.
18:31
Oh, we had a discussion on Ed about this. Didn't you see my discussion on it?
18:38
Oh, sorry, I didn't see it. I'll have a look at then.
18:43
I think if you go on it, actually, because I spent some time explaining it to somebody else and I think they eventually the penny dropped and it went.
18:47
Yes, I see it now. So I think if you follow the discussion, if if not, then put something else on it,
18:53
because I shouldn't go over it again, because I think what a lot of people here would have seen that already.
18:59
So I said, OK, I am a stranger, and yet you still got hands up, so I'll come back to you.
19:02
But does it you how you have a question. Oh yeah.
19:09
I got a question. You know, I think this question is more about the style of the code, but for the quotient function,
19:13
I introduced an auxiliary function that takes an additional argument.
19:20
Oh, and and you just tell recursion, yeah, yeah, yeah, I think I can see what he might have done.
19:26
Um. But so you auxillary a function and and zero and when in this than the I eventually give out the the Q which would initially be zero.
19:38
Yeah. So I mean, you know, you can always try to transform this into a recursive function.
19:56
What you're trying to do. You were trying to get rid of this plus one. Oh yeah.
20:01
It's trying to you're trying to give you that plus one. So if you carry so you can always accumulate that in another parameter.
20:05
So you had something like actually the B, the B never changes.
20:12
So you just need to carry C if you've got some auxiliary function called.
20:17
Nine, so you presumably carry around the. The A or whatever it is, and then you have this accumulator which could call that.
20:22
Q Yeah, and I guess down you have some guards here and you did some on the right hand side.
20:31
You don't quote your recursive call would be in quotes to a mine as B and you know what?
20:38
Because everywhere you don't need to carry around the B in the of do you.
20:45
What you've done is done something like Q plus one. Is that right.
20:48
Well, I started off with the auxiliary function and then I use the word keyword and define the auxiliary function down below.
20:53
Yeah, that's right. But I'm saying you actually function within the key plus one.
21:01
So up here. Oh, yeah, yeah, that's what is it, yes.
21:05
Yeah, yeah, yeah. So just to kick start this, you would just say, well, that is just an invitation to quote function.
21:08
I'm going to give it my eye and I'm going to start with a zero. So the second argument here is accumulating the quotient.
21:13
One one is, yeah, you can do that, but it's you're not going to in this example, it's really quite simple.
21:19
You're not going to gain anything from it. To be honest.
21:28
There are times when when we come to do how to function later on, you'll see some some some good reasons to try to try to make these recursive.
21:32
But in these three simple sort of almost a one two line of functions, it's really not worth it.
21:40
And in fact, what happens is you end up writing much longer programmes and then someone reading a programme will say,
21:45
you know, what's this auxiliary function? Just the question. So I just I wanted the recursive caldrons.
21:49
I think the. Oh, I see. They've tried to optimise the programme. Well, don't worry about optimisation at all at this stage.
21:54
Just the only optimisation I want to think about is, is this thing about complexity and will do some more this next week and I'll drill it in.
22:01
It's the only thing that matters.
22:08
You know, you can make this recursive and you can make a function that takes seven microseconds to run and you can run it in six microseconds.
22:10
It's just not worth it. But if you can take a programme that takes twelve minutes to run and you can run it in 12 seconds, that really is worth it.
22:19
And that if that's your boyfriend, you're welcome. That's what you buy from thinking about algorithms, complexity.
22:27
Shweta is in jeopardy. I'm going to just go to that because that's probably a fresh question that I hate.
22:35
So I was doing the Fibonacci questions on the sheet and I realised that the first one was a top down and bottom up approach.
22:40
But the thing is, with the top down one, it's a bit more elegant.
22:49
So is there a way you can actually memorise the values that you call like an imperative programmes so
22:52
that you wouldn't have to actually keep on recording the same function again and again and again?
22:59
Yeah, I'll tell you what I'm going to do.
23:03
I think we're going to have an advanced lecture on this because we there's there's a there's quite a nice lecture which ties together lazy evaluation.
23:05
And I think we're not tying and this. So I think if you let's just stick with the decent question, something like one, isn't it, 15 to 18?
23:13
The answer, of course, is yes, you can. And it makes quite a nice topic for discussion in a in an off topic lectures.
23:26
I think we might do that next week, but for now. So what have you done?
23:31
You've got you've got a version which is just the straightforward recursive recursive version, which is actually in the question, isn't it?
23:35
Yeah. This is this has got this has got exponential complexity,
23:42
which is something rather terrifying because it basically means that it's basically means it's computationally intractable.
23:47
So if if you look at if I draw a graph, know there's linear.
23:53
And square does that logarithmic does, you know,
23:59
something like that exponential does the exponential means that there's practically no no useful value of, you know, this is my problem size.
24:02
And and this time there are hardly any.
24:09
Reasonable values of where a programme with exponential complexity is tractable at all,
24:14
so and this is a really curious example, there aren't very many of them, but you can show what we'll show you next week.
24:20
And in fact, it's kind of embedded in the question in question 15 here is you can get from that complexity down to that complexity.
24:27
Can get it down to linnear, which is absolutely amazing, I mean, normally when when you talk about albums, you think, oh,
24:36
I took an M squared and I got it down to the end log in or I took a you know, I took a log and I got it down to a log log in or something.
24:42
And you're really pleased you you celebrated with your friends.
24:49
Actually getting from exponential to linear is astonishing. It's it's not often and it happens.
24:53
And this is an example where it does it gets it right.
24:57
So there's a technique of memorisation where we build a table of the Fibonacci numbers we previously computed and we just look them up in the table,
24:59
which is essentially what's going on in the in the optimised version here,
25:07
except the table is we we're only carrying around the bits of the table we need, which is the last two Fibonacci numbers.
25:11
So will defer that. That's why I'll pick it up next week.
25:17
Thank you, so Twitter, you and Twitter, you're sticking around if you want to carry on with your questions.
25:22
Excuse me, sir. Yep. We just had a fire alarm in our holes and I just missed the last part, what the grass could do was to summarise it again for you.
25:30
Farallones, you know, it's the time of year we have fallen, so this is the problem.
25:43
Sighs We started I started showing you this with the. And with empowering so this is time I just said that some some outcomes are linear.
25:46
That, in fact, that was that was that was the that was the complexity of the naïf powering algorithm to X to the end, we had to do any modifications,
25:57
if you remember that one day and by it by hook and by doing that, the splitting in half after we got it down to log.
26:07
So this is linear. In other words, this is old Logan.
26:13
Which is great. So what we did is we got from there to the air, which is fantastic, and I said,
26:20
well, if you've got some Afghans, we'll see later on around the square. So they kind of go like that, not to scale an exponential does that so.
26:25
So there are only four very small valleys around is an excellent exponential algorithm.
26:33
That's all tractable.
26:37
So if you tried to calculate Fibonacci anything bigger than about 20, it just it just sits there and hangs over 30, whatever the name happens to be.
26:38
But if you if you follow fifth question 15, we can do if you want, we get from exponential down to linear.
26:46
Just by changing the algorithm, and that's amazing.
26:51
It is unusual to get from exponential to linear, usually with exponential problems, you know, when you come to study entropy,
26:56
completeness next term and the algorithms, cause you're the best you can usually do,
27:04
is to start with an empty, complete, essentially an exponential time algorithm.
27:08
And you end up with an expert Central Time algorithm, but you throw heuristics at it which which in practise kind of do this.
27:13
It kind of brings it down to attractable when unaware when squared or something, but it's not guaranteed.
27:19
You know, you can always pick a particular combination of factors, which means that you still have to pay the exponential cost.
27:25
But it's a fascinating topic. OK, Tiffanie, I'll come back to you.
27:32
Do you have another question? Or is that an old hand?
27:37
I was an old man, OK, Rich Shusett Richard, you've got another hand up was an old hand circle.
27:47
Buteyko requested 16 Liguria. Explain the last part of it. Question 16.
27:54
The golden ratio function, probably, yes, let me just remind myself what this is, um.
28:00
Right, so. I'm just thinking whether I need to do any.
28:13
Right. So it could do this in terms of Fibonacci's. Let me just think the question is actually.
28:24
So let's just see what it says, it says that.
28:35
Oh, this is the excuse if I take the ratio of two the penalty numbers in the limit, they converged on the golden ratio.
28:39
So, right, okay, so what I could do. Naively.
28:47
Is that a function to compute the dead Cabanatuan number and then just just just
28:53
compute that ratio for increasing bodies ran until I find a suitable limit?
28:59
But actually, I'll tell you what, we can probably keep maybe if we if I kill two birds with one stone and actually encode the Abenaki optimisation.
29:06
Just want the best. Let's see, it's called Golden Ratio or call it G.R., it's Taipei's.
29:18
We have to deal with floats or doubles here. So that's I use double.
29:27
Uh. So I think the intention here was that we would carry around so.
29:36
So what you need, what you need at each step of the algorithm is to adjacent Fibonacci numbers.
29:45
So if I come to the magic whiteboard, I guess we've got Fibonacci and of zero, we got Fibonacci of one, we got Fibonacci of two.
29:51
You might imagine writing these in a list, actually. And there's another quite nice way of coding this up Fibonacci sequence.
30:00
So what we want to do is to take two adjacent ones from, for example, these two.
30:08
And calculate which way round is I want to over at of three.
30:13
And I want to. And they just take it to a high up till a higher limit.
30:20
Yeah, I'm just thinking how best to encode that.
30:27
The I'm just going to think about how we're going to.
30:32
Yeah. I said, what if I take these two, you see, and I calculate F1 over F2 and I calculate F zero F1 and likewise here I calculate EF three,
30:35
ogress four if I do especially often and these numbers will converge towards G well.
30:46
So I wouldn't take this one because you need to know whether you converge Dunklee.
30:53
So. So I need to know what I should do as I should.
31:00
Let's let's try to there's various ways of doing this.
31:07
I'm tempted to write one using lists, but I don't want to use list here because this is about numeric computation.
31:10
So how about this supposing. Supposing we carry around and with us.
31:16
The two the two Fibonacci numbers I currently need so far and five plus one,
31:24
plus one or minus one, whichever way by so I'll carry on the two Fibonacci numbers.
31:30
Only I'm going to do is I'm going to each turn around the loop. If I have to go again, I'm going to step to the right.
31:34
So rather than those two, I'll carry those two. Yeah.
31:38
And then I step to the right. I'll carry those two. I won't do that one anymore.
31:42
So I'm going to be amazing. I've got I've got my fingers on two adjacent Fibonacci. I'm going to carry them round as parameters.
31:46
And the other thing I'm going to need to know when to stop, so if you look at this sequence here, is I get from left to right.
31:51
I mean, do I stop here? Well, I only stop there if in order to know whether to stop it.
31:57
I've got to compare that with that, haven't I? So I think I need to carry it around.
32:03
Also this ratio. With me, and then when I calculate the new Fibonacci ratio, I've just got to say, is that close enough to that one that I can stop,
32:08
in which case I've got something close to G or should I keep going, keep moving to the right?
32:19
So I think that's going to be my strategy.
32:23
So I get a let's see, I need a helper function because I'm going to have to carry around two Fibonacci numbers.
32:24
I want this ratio. What I want to ask if you needed a helper function in this question.
32:29
I couldn't hear what you said. Sorry. I was saying, if do we need a helper function in this question?
32:37
Yes, you do, because because the function itself only has in fact, it's a constant, isn't it?
32:42
The only thing anything that I can meaningfully give it is, is something some sort of Absolon or some sort of epsilon here,
32:49
which tells me how close these two things are here when I'm doing this comparison here.
32:57
So how about this that we we the G are so.
33:02
So, yeah. So yeah, that's why I just think it was that I put a double in here because this is going to be my epsilon isn't it.
33:08
So this so I can tune. How accurate are the estimates to the golden ratio to be.
33:14
Right. So what am I, do I need a helper function because I've got to carry around a whole bunch of stuff.
33:20
I'm not carrying around in the outermost function. So clearly I need to help Prime and it's going to have to carry around an F the current factorial.
33:26
Perhaps it's. But I'll call it. I was going to call that and plus one, let's call it FMF Prime,
33:36
so it's the current factor and the next one or the previous one and the current one, whichever way around, we think about it.
33:44
And also, I need this ratio that I previously compute because I've got to know when to stop.
33:48
So that suggests I need to call the the help function.
33:54
What are the first to come back to the magic whiteboard? What are the first two Fibonacci numbers?
33:59
Is it zero one, one, one or one to whatever, one three zero and zero one, is it?
34:05
OK, that's fine. That should work. Let's come in. Here, so I give it zero one.
34:11
That's my first baby as my second favourite. That will kick start the process.
34:19
And what's the initial value of the ratio? Well, I guess. Ah, well, yeah, I really want that to be the.
34:23
Let's start with one one and just just it doesn't matter because it's clearly not going to terminate
34:31
within the first couple of notches just because I want just my own personal satisfaction.
34:36
I want to value the ratio, which is the ratio of those to just I don't know, it just seems right to me.
34:41
But OK, so what is this helper function do it says.
34:46
Well, first question is, have I finished? Well, in order to know whether I finished now it's interesting here, actually,
34:51
this thing, these two little guys here, this is is prime their in scope.
34:59
Well, the definition of jihad, but not outside the definition of jihad prime.
35:06
So what I need to be able to do is to divide F by F primary from whichever way around it is.
35:11
It's F by. But. It's F, F and minus one, which the previous two.
35:16
Sorry, I've got this, my dog and I got this wrong way round my. So when I wrote, I think I mean f three and a half, two here, so.
35:24
And this should be after and if one. So I've got a computer ratio, whatever, but she's got the wrong one on the diagram, right?
35:32
So. How about we because I'm going to need this twice.
35:40
How about I compute a ratio and our prime say.
35:45
Ratio, which is now let me get this right, I want to right, it's the bigger one divided by the smaller one.
35:53
But I can't. So let me just think, am I coming?
36:04
That's my first thought is, OK, I'm going to type this because these are Fibonacci numbers.
36:12
So I think I'm carrying around an inch. I don't want to use doubles for Phonophobia, not even if it were not.
36:19
And I was absolutely in. So I'm going to do end and.
36:24
This is a doubled the ratio because the ratio of two points and now the problem I've gotten just to interesting, I can't do that.
36:29
Directly, because if and if it's so,
36:38
I have the custom to integers in the way I do that is with from Integral and that and I want the same thing there from Integral that.
36:41
Right. So that converts the primary up into doubles, essentially for the purposes of this example ratio is the ratio of the two.
36:54
Now now my question is, have I finished?
37:02
So I want to compare the current ratio, which is the R prime with this product, which is the ratio from the previous to Fibonacci numbers.
37:06
So we should always use relative error here.
37:16
So I think I want to calculate R minus prime.
37:20
And I want to divide that by R so I get a relative error and I must make sure that's the minus sign in there.
37:24
Now I've got to make sure that I guess I just want the absolute value that will do.
37:32
I always know that. Do I always know that one of those is no.
37:37
I shouldn't be in it? Do I always know that one of those is bigger than the other?
37:43
I guess the. Not sure what I need, the apps, I need to put the apps in there.
37:46
I don't need the apps if I get there on the appointment from the right way.
37:53
Right. So I went to OK, I'm sorry, I went to break it in there.
37:58
I want to brekky in there. Right. So that's my that's so that's it.
38:03
So in comparing R and R a prime to see whether they are sufficiently close that
38:08
I can stop and say I think I've got a good approximation to the golden ratio.
38:13
So that's got to be less than my epsilon. And if it's less than my epsilon, I'm done and I just return, but I can return either of them perhaps.
38:17
Oh, I haven't called up. It's called ratio, by the way. And perhaps I'll just return the brochure.
38:27
OK? I think that's right. Otherwise, I need to do a bit more work,
38:36
and I guess I got to decide whether to go all the way and put my equal sign there or
38:43
whether to break the line and put the sign under the table and discuss that in a minute,
38:46
otherwise reasonable work. So I just invoke the recursive function to help function.
38:50
Right. So the F next time round, I want to shift essentially to the right, which means that the act becomes the prime.
38:55
And my new one here is the sum of those two.
39:04
There must be fosset. Because don't forget, the next Fibonacci is the sum of the previous two.
39:08
So if these are the previous two Fibonacci numbers, then this one must be the next one, which is why we come together.
39:15
And finally, I've also updated my ratio from this calculator, which is that little fellow in there.
39:22
So I think that's going to do the trick, isn't it?
39:28
Should we just give it a go? OK. Right there.
39:32
Oh, right. Because it doesn't like that's. So I tried a similar with saying, couldn't match expected, I double with that to type in up.
39:39
So the functions of your prime minister apply to three arguments, but it's only has two, so I haven't got the right types to do so.
39:51
I flippantly said in the ad yesterday that the Haskell type is the debugger and actually it's been astonished how close to reality that is.
39:59
If you are programmed type checks, it's often. Right? Not not often.
40:09
Not always. Right. What am I got wrong here? Right.
40:13
So I've see I haven't said it takes two wins and a double. I forgot to tell you what the answer is.
40:17
The answer is a double. So let's try that.
40:21
So right now, this tells me this just should work, so shall I give it a go?
40:27
What's what's the absolute truth? Fingers crossed. Oh, no.
40:31
Oh, what have I done wrong? Well, OK, I've got this I've I've started it wrong, haven't I?
40:37
Let's start it on the next two numbers.
40:52
That's the problem, is it terminates terminating immediately because I've got the idea when I find it, I find it with the wrong.
40:56
This this number here should have been the ratio from the previous period.
41:03
It was the ratio for the one one. Now I've got to move on.
41:09
It is that ratio must reflect the ratio of the previous to Fibonacci numbers, not the one and the two.
41:12
So I think that will fix it now. So you tend to temptation's oh, it's the hardest, but the most important bit is getting the recursion.
41:18
You actually know,
41:27
getting the base close to what is actually just as important if you get the base case from or you prime the helper function incorrectly,
41:28
you just get the wrong answer. So let's try that again.
41:33
Uh. What is the golden ratio is one plus five over two, isn't it?
41:38
Excuse the brackets. Oh, baby.
41:49
All right. So there's quite a lot going on there, it kind of encoded in that function is the answer to the previous question about Fibonacci,
41:56
not the memorised version, but they optimised Fibonacci. All you do is you have a helper function which carries around the previous two Fibonacci's.
42:04
And then you get the next one, you just recurse and you shift one place to the right doing this trick here.
42:13
So this is this this is the golden ratio of functioning codes. Let me just highlight this bit here, because I'm ratio of functioning codes.
42:18
Exactly the same trick you would use in the previous question about Fibonacci's Izarra the clear.
42:26
And thank you so much. You know, it's it's not it's not easy, it's as much when we do this processing this, I think it is much easier than this law.
42:32
OK. Hey, Alex, is that an old hand or a fresh question?
42:40
Odama, your hands up as well. Alex is still thinking. I am just trying to figure out the difference between the pump function and the choose function.
42:49
I know in theory what the difference is, but not that trying to code it, using the method you showed before.
42:59
I'm getting the same thing and I'm really confused about.
43:04
You're getting the same thing in what sense as in in terms of how to write out the function for both permutation and combination?
43:09
So I wanted to ask if you could go through the permutations. I see what the difference is.
43:19
Probably the same, isn't it? Let's just have a look. So we go in and there isn't a magic notation and or is in over and minus four factorial.
43:23
So let's see. So. OK.
43:36
Right. So I just think we always got to think where you want this to end up, and it might be that we want to do.
43:43
This. The other way. So if I if I would use an.
43:54
Down. So let me just think, if I would you send down to R then eventually.
44:01
So so if any Khuza'a. I've got essentially half factorial over.
44:10
Zero factorial, which is all factorial. And this is a sort of poop because it's the only way if I if this were my base case,
44:18
I'd have to have I'd have to have a function to complete factorial. So you're right.
44:28
Actually, it's slightly different in this case, isn't it? I don't want to end up with having to factor in the base case.
44:33
I really want to just return one, for example, in this case, so that this is a good question.
44:37
Let's just think about this. I'm going to have to instead of reducing NP, why don't we reduce.
44:42
Ah, OK. So if I reduce or so I start with R and I go minus one, minus two.
44:48
And eventually I was going to get down to one, also down to zero in fact isn't it.
44:54
And then I'm going to end up with a factual error in factorial because I read zero and that's one that's good.
44:58
That's bad. So what we want to do now is we want to cast NPR in terms of NPR minus one.
45:04
So we want to do something like it's something some factor here times and P R minus one, and then we're good to go.
45:12
And I know the base case will be when our zero, in which case it's one.
45:21
So let's just say so. NPR is in factorial over.
45:24
And mine is of electorial, so if I reduce our by one.
45:33
If I reduce our by one, that becomes then minus our minus one, which is then minus four plus one factorial degree.
45:43
And now in order to get back, how do I get back from there to there?
45:52
I've got to Moseby and Munzar plus one, don't I? But I'm done.
45:57
I've just got to cancel that and Monistat postponed, so this is in other words, it's then minus or plus one.
46:03
So I'm in T minus one, and that's the magic recurrence.
46:09
It's not easy, but I think that's what you want to do. So you see what I mean?
46:15
I think these are really hard. You've got to think not only of the magic. The current relationship.
46:19
But you've also got to think about where you're heading,
46:26
what's which base case are going to end up, I really don't want to end up with this base case here.
46:28
Otherwise, they're gonna have to have a factorial function, so we probably got lying around in my programme,
46:34
but I don't really want to complete factual anyway if I can avoid the fact it should.
46:39
They don't want to do that. Is that right?
46:43
Answer the question. I don't think you yeah, but, you know, you've got to kind of spot these things, right?
46:48
So that was Alex, wasn't it? You still have a hand with done.
46:56
We should stop because it's ten fifty one, I get told, off and over 10 to, so that's great.
47:03
And if that was useful, if that was useful, we can do do similar things next week with lists or something else.
47:08
Yeah. Thanks. Have a nice morning.
47:13
Thank you. Thank you. Thank you. You're welcome.
47:18